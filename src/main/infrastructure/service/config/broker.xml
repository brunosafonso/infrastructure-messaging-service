<?xml version="1.0"?>
<configuration xmlns="urn:activemq"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="urn:activemq /schema/artemis-configuration.xsd">
	<core xmlns="urn:activemq:core"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="urn:activemq:core ">
		<name>0.0.0.0</name>
		<!-- Persistence enabled. -->
		<persistence-enabled>true</persistence-enabled>
		<!-- Paging, bindings and large messages -->
		<paging-directory>data/paging</paging-directory>
		<bindings-directory>data/bindings</bindings-directory>
		<large-messages-directory>data/large-messages
		</large-messages-directory>
		<!-- Journal config. -->
		<journal-directory>data/journal</journal-directory>
		<journal-type>ASYNCIO</journal-type>
		<journal-datasync>true</journal-datasync>
		<journal-device-block-size>4096</journal-device-block-size>
		<journal-file-size>29M</journal-file-size>
		<journal-min-files>173</journal-min-files>
		<journal-pool-files>573</journal-pool-files>
		<journal-compact-min-files>237</journal-compact-min-files>
		<journal-compact-percentage>37</journal-compact-percentage>
		<journal-sync-non-transactional>false</journal-sync-non-transactional>
		<journal-max-io>32768</journal-max-io>
		<!-- Journal buffer. -->
		<journal-buffer-timeout>1300000</journal-buffer-timeout>
		<journal-buffer-size>262144</journal-buffer-size>
		<page-sync-timeout>137000000</page-sync-timeout>
		<!-- Thread pool. -->
		<thread-pool-max-size>171</thread-pool-max-size>
		<scheduled-thread-pool-max-size>171</scheduled-thread-pool-max-size>
		<!-- Disk usage -->
		<max-disk-usage>90</max-disk-usage>
		<!-- Disable critical analyzer. -->
		<critical-analyzer>false</critical-analyzer>
		<!-- Global max size. -->
		<!-- Acceptors. -->
		<acceptors>
			<acceptor name="artemis">tcp://0.0.0.0:61616?protocols=CORE;useEpoll=true;tcpNoDelay=true;directDeliver=false;batchDelay=37;tcpSendBufferSize=262144;tcpReceiveBufferSize=262144;writeBufferLowWaterMark=262144;writeBufferHighWaterMark=1048576</acceptor>
			<acceptor name="stomp">tcp://0.0.0.0:61613?protocols=STOMP;useEpoll=true;tcpNoDelay=true;directDeliver=false;batchDelay=37;tcpSendBufferSize=262144;tcpReceiveBufferSize=262144;writeBufferLowWaterMark=262144;writeBufferHighWaterMark=1048576</acceptor>
		</acceptors>
		<!-- Paging. -->		
		<read-whole-page>true</read-whole-page>
		<page-max-concurrent-io>19</page-max-concurrent-io>
		<!-- Transaction -->
		<transaction-timeout>93000</transaction-timeout>
		<!-- Scans. -->
		<disk-scan-period>11000</disk-scan-period>
		<message-expiry-scan-period>-1</message-expiry-scan-period>
		<address-queue-scan-period>1300000</address-queue-scan-period>
		<!-- Security. -->
		<security-settings>
			<security-setting match="#">
				<permission type="createNonDurableQueue"
					roles="technology-messaging-service-admin" />
				<permission type="deleteNonDurableQueue"
					roles="technology-messaging-service-admin" />
				<permission type="createDurableQueue"
					roles="technology-messaging-service-admin" />
				<permission type="deleteDurableQueue"
					roles="technology-messaging-service-admin" />
				<permission type="createAddress"
					roles="technology-messaging-service-admin" />
				<permission type="deleteAddress"
					roles="technology-messaging-service-admin" />
				<permission type="consume"
					roles="technology-messaging-service-admin" />
				<permission type="browse"
					roles="technology-messaging-service-admin" />
				<permission type="send"
					roles="technology-messaging-service-admin" />
				<permission type="manage"
					roles="technology-messaging-service-admin" />
			</security-setting>
		</security-settings>
		<address-settings>
			<!-- Management -->
			<address-setting match="activemq.management#">
				<dead-letter-address>DLQ</dead-letter-address>
				<expiry-address>ExpiryQueue</expiry-address>
				<redelivery-delay>0</redelivery-delay>
				<max-size-bytes>-1</max-size-bytes>
				<message-counter-history-day-limit>10
				</message-counter-history-day-limit>
				<address-full-policy>PAGE</address-full-policy>
				<auto-create-queues>true</auto-create-queues>
				<auto-create-addresses>true</auto-create-addresses>
				<auto-create-jms-queues>true</auto-create-jms-queues>
				<auto-create-jms-topics>true</auto-create-jms-topics>
			</address-setting>
			<address-setting match="#">
				<dead-letter-address>DLQ</dead-letter-address>
				<expiry-address>ExpiryQueue</expiry-address>
				<redelivery-delay>0</redelivery-delay>
				<max-size-bytes>-1</max-size-bytes>
				<message-counter-history-day-limit>10
				</message-counter-history-day-limit>
				<address-full-policy>PAGE</address-full-policy>
				<auto-create-queues>true</auto-create-queues>
				<auto-create-addresses>true</auto-create-addresses>
				<auto-create-jms-queues>true</auto-create-jms-queues>
				<auto-create-jms-topics>true</auto-create-jms-topics>
			</address-setting>
		</address-settings>
		<!-- Default queues. -->
		<addresses>
			<address name="DLQ">
				<anycast>
					<queue name="DLQ" />
				</anycast>
			</address>
			<address name="ExpiryQueue">
				<anycast>
					<queue name="ExpiryQueue" />
				</anycast>
			</address>
		</addresses>
	</core>
</configuration>
